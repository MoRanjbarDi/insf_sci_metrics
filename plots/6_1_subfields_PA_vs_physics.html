<html>
<head><meta charset="utf-8"/>
<style>
    /* RTL hovertext styling */
    .hoverlayer .hovertext {
        direction: rtl !important;
        text-align: right !important;
    }
    .hoverlayer .hovertext text {
        font-family: "Vazirmatn FD", "Tahoma", "Arial", sans-serif !important;
        text-anchor: start !important;
    }
    </style>
<style>
    
/* Normal Vazirmatn (one family per weight) */
@font-face {
  font-family: "Vazirmatn Thin";
  src: url("fonts/webfonts/Vazirmatn-Thin.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn ExtraLight";
  src: url("fonts/webfonts/Vazirmatn-ExtraLight.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn Light";
  src: url("fonts/webfonts/Vazirmatn-Light.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn";
  src: url("fonts/webfonts/Vazirmatn-Regular.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn Medium";
  src: url("fonts/webfonts/Vazirmatn-Medium.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn SemiBold";
  src: url("fonts/webfonts/Vazirmatn-SemiBold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn Bold";
  src: url("fonts/webfonts/Vazirmatn-Bold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn ExtraBold";
  src: url("fonts/webfonts/Vazirmatn-ExtraBold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn Black";
  src: url("fonts/webfonts/Vazirmatn-Black.woff2") format("woff2");
  font-style: normal;
}


/* FD family (Persian Digits) — one family per weight */
@font-face {
  font-family: "Vazirmatn FD Thin";
  src: url("fonts/webfonts/Vazirmatn-FD-Thin.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD ExtraLight";
  src: url("fonts/webfonts/Vazirmatn-FD-ExtraLight.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD Light";
  src: url("fonts/webfonts/Vazirmatn-FD-Light.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD";
  src: url("fonts/webfonts/Vazirmatn-FD-Regular.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD Medium";
  src: url("fonts/webfonts/Vazirmatn-FD-Medium.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD SemiBold";
  src: url("fonts/webfonts/Vazirmatn-FD-SemiBold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD Bold";
  src: url("fonts/webfonts/Vazirmatn-FD-Bold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD ExtraBold";
  src: url("fonts/webfonts/Vazirmatn-FD-ExtraBold.woff2") format("woff2");
  font-style: normal;
}
@font-face {
  font-family: "Vazirmatn FD Black";
  src: url("fonts/webfonts/Vazirmatn-FD-Black.woff2") format("woff2");
  font-style: normal;
}

    </style>
</head>
<body>
<div aria-label="Plot navigation" class="overlay-nav" role="navigation">
<a aria-label="قبلی" class="nav-btn" href="topnradar_scaledtop1_ticks.html" title="قبلی">←</a>
<a aria-label="خانه" class="nav-btn home" href="../index.html" title="خانه">⌂</a>
<a aria-label="بعدی" class="nav-btn" href="8.1_subfields_cnci_doc_type.html" title="بعدی">→</a>
<button aria-label="اطلاعات" class="nav-btn info-btn" title="اطلاعات" type="button">ℹ</button>
</div>
<div aria-hidden="true" class="info-backdrop" id="info-backdrop"></div>
<aside aria-hidden="true" aria-modal="true" class="info-drawer" dir="rtl" id="info-drawer" lang="fa" role="dialog" tabindex="-1">
<div class="info-head">
<div class="info-title" dir="rtl" id="info-title"></div>
<button aria-label="بستن" class="info-close" id="info-close" type="button">
<span class="close-x">×</span>
<span class="close-up">⌃</span>
</button>
</div>
<div class="info-body" id="info-body"></div>
</aside>
<script id="info-payload" type="application/json">{"title": "تحلیل جایگاهی زیرموضوعات", "long_title": "تحلیل جایگاهی زیرحوزه‌های فیزیک در ایران", "md": "<div dir=\"rtl\" style=\"line-height:1.9;\">\n\n  <p style=\"margin:0 0 14px; text-align:justify;\">\n    این نمودار، روند تغییر تعداد مقالات، شاخص تمرکز و تأثیر استنادی نرمال‌شده را در دو بازه زمانی نشان می‌دهد؛\n    با این تفاوت نسبت به نمودار مشابه که این بار زیرحوزه‌های مختلف فیزیک در ایران بررسی شده‌اند.\n    نکته مهم اینکه در این نمودار، شاخص تمرکز هر زیرحوزه بر اساس سهم آن در میان مقالات حوزه فیزیک محاسبه شده است،\n    نه بر پایه‌ی کل مقالات کشور.\n  <\/p>\n\n  <div dir=\"ltr\" style=\"text-align:center; margin:0 0 16px;\">\n    \\[\n    \\textit{Specialization index of Subcategory} =\n    \\frac{\\frac{\\textit{Subcategory Papers Count in Iran}}{\\textit{Total Physics Papers Count in Iran}}}\n         {\\frac{\\textit{Subcategory Papers Count in World}}{\\textit{Total Physics Papers Count in World}}}\n    \\]\n  <\/div>\n\n  <p style=\"margin:0; text-align:justify;\">\n    به‌عبارت دقیق‌تر، اگر شاخص تمرکز یک زیرحوزه برابر ۲ باشد، یعنی سهم آن زیرحوزه در میان مقالات فیزیک ایران دو برابر\n    میانگین جهانی است؛ به این معنا که پژوهشگران ایرانی نسبت به متوسط جهانی، توجه بیشتری به آن زیرحوزه داشته‌اند.\n  <\/p>\n\n<\/div>"}</script>
<!-- MathJax (LaTeX rendering) -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['\\[','\\]'], ['$$','$$']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script defer="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<style>
@media (orientation: portrait) {
    body { padding-bottom: 92px !important; }
}

.overlay-nav {
    position: absolute;
    top: 10px;
    left: 10px;
    display: flex;
    gap: 8px;
    z-index: 99999;
}

.overlay-nav .nav-btn {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: 999px;
    background: rgba(255,255,255,0.85);
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    color: #0078d7;
    text-decoration: none;
    font-size: 28px;
    user-select: none;
    border: none;
    cursor: pointer;
    padding: 0;
}

.overlay-nav .nav-btn.disabled {
    color: #9ca3af;
    background: rgba(255,255,255,0.55);
    box-shadow: none;
    cursor: not-allowed;
    pointer-events: none;
    filter: grayscale(100%);
    opacity: 0.9;
}

.info-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.35);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.18s ease;
    z-index: 99998;
}

.info-drawer {
    position: fixed;
    top: 0;
    right: 0;

    /* Desktop drawer width (increase 420px to your taste) */
    width: min(800px, 92vw);

    height: 100vh;
    background: rgba(255,255,255,0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: -10px 0 30px rgba(0,0,0,0.2);
    transform: translateX(110%);
    transition: transform 0.22s ease;
    z-index: 99999;
    display: flex;
    flex-direction: column;
}

.info-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    padding: 14px 14px 10px;
    border-bottom: 1px solid rgba(0,0,0,0.08);
    position: relative;
}

.info-title {
    font-family: Vazirmatn, system-ui, sans-serif;
    font-weight: 900;
    font-size: 15px;
    color: #0f172a;
    line-height: 1.6;

    direction: rtl;
    unicode-bidi: plaintext;
    text-align: justify;
    text-justify: inter-word;
}

.info-close {
    width: 40px;
    height: 40px;
    border-radius: 999px;
    border: none;
    background: rgba(0,0,0,0.06);
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    color: #0f172a;
    user-select: none;
}

.close-up { display: none; }

.info-body {
    padding: 14px 16px 18px;
    overflow: auto;
    font-family: Vazirmatn, system-ui, sans-serif;
    color: #111827;
    line-height: 1.9;
    font-size: 14px;

    direction: rtl;
    unicode-bidi: plaintext;
    text-align: justify;
    text-justify: inter-word;
}

.info-body h1, .info-body h2, .info-body h3 {
    margin: 10px 0 8px;
    line-height: 1.5;
    direction: rtl;
    unicode-bidi: plaintext;
    text-align: right;
}
.info-body h1 { font-size: 18px; }
.info-body h2 { font-size: 16px; }
.info-body h3 { font-size: 15px; }

.info-body p { margin: 8px 0; }

.info-body ul, .info-body ol {
    margin: 8px 0;
    padding-inline-start: 20px;
    direction: rtl;
    unicode-bidi: plaintext;
    text-align: right;
}

.info-body li {
    margin: 4px 0;
    direction: rtl;
    unicode-bidi: plaintext;
}

.info-body code {
    background: rgba(0,0,0,0.06);
    padding: 0 6px;
    border-radius: 6px;
}
.info-body pre {
    background: rgba(0,0,0,0.06);
    padding: 10px 12px;
    border-radius: 12px;
    overflow: auto;
}
.info-body a {
    color: #0057d9;
    text-decoration: none;
}
.info-body a:hover { text-decoration: underline; }

html.no-scroll, body.no-scroll {
    overflow: hidden !important;
}

.info-backdrop.open {
    opacity: 1;
    pointer-events: auto;
}
.info-drawer.open {
    transform: translateX(0);
}

@media (orientation: portrait) {
    .overlay-nav {
        position: fixed;
        top: auto;
        left: 50%;
        bottom: 14px;
        transform: translateX(-50%);
        gap: 14px;
        padding: 10px 12px;
        border-radius: 999px;
        background: rgba(255,255,255,0.65);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 10px 26px rgba(0,0,0,0.18);
    }

    .overlay-nav .nav-btn {
        width: 90px;
        height: 90px;
        font-size: 46px;
        box-shadow: 0 6px 14px rgba(0,0,0,0.18);
    }

    .info-drawer {
        left: 0;
        right: 0;
        top: 0;
        width: 100vw;
        height: min(70vh, 520px);
        transform: translateY(-110%);
        border-bottom-left-radius: 24px;
        border-bottom-right-radius: 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .info-drawer.open { transform: translateY(0); }

    /* Make title BIGGER than body on phone */
    .info-title {
        font-size: 20px;
        line-height: 1.7;
    }

    /* Make header NOT positioned so the close button anchors to drawer bottom */
    .info-head {
        position: static;
    }

    .close-x { display: none; }
    .close-up { display: inline; }

    /* Put the ⌃ button at the bottom of the DRAWER */
    .info-close {
        position: absolute;
        left: 50%;
        bottom: 12px;
        top: auto;
        transform: translateX(-50%);
        width: 72px;
        height: 44px;
        font-size: 28px;
        background: rgba(0,0,0,0.08);
    }

    /* Leave space so text doesn't hide behind ⌃ */
    .info-body {
        padding-bottom: 90px;
    }
}

</style>
<script>
(function() {
    const payloadEl = document.getElementById('info-payload');
    const btn = document.querySelector('.info-btn');
    const drawer = document.getElementById('info-drawer');
    const backdrop = document.getElementById('info-backdrop');
    const closeBtn = document.getElementById('info-close');
    const titleEl = document.getElementById('info-title');
    const bodyEl = document.getElementById('info-body');

    if (!payloadEl || !btn || !drawer || !backdrop || !closeBtn || !titleEl || !bodyEl) return;

    const isPortrait = window.matchMedia && window.matchMedia('(orientation: portrait)').matches;

    let payload = {};
    try {
        payload = JSON.parse(payloadEl.textContent || '{}');
    } catch (e) {
        payload = {};
    }

    const rawInfo = (payload.md || '').trim();

    function looksLikeHtml(s) {
        return /<\/?[a-z][\s\S]*>/i.test(String(s || ''));
    }

    function sanitizeHtml(input) {
        const template = document.createElement('template');
        template.innerHTML = String(input || '');

        const blockedTags = new Set(['SCRIPT','IFRAME','OBJECT','EMBED']);
        const walker = document.createTreeWalker(template.content, NodeFilter.SHOW_ELEMENT, null);
        const toRemove = [];

        while (walker.nextNode()) {
            const el = walker.currentNode;

            if (blockedTags.has(el.tagName)) {
                toRemove.push(el);
                continue;
            }

            [...el.attributes].forEach(attr => {
                const name = attr.name.toLowerCase();
                const val = (attr.value || '').trim();

                if (name.startsWith('on')) el.removeAttribute(attr.name);

                if ((name === 'href' || name === 'src') && /^javascript:/i.test(val)) {
                    el.setAttribute(attr.name, '#');
                }
            });
        }

        toRemove.forEach(el => el.remove());
        return template.innerHTML;
    }

    // Title supports HTML too
    const titleRaw = payload.long_title || payload.title || 'Info';
    if (looksLikeHtml(titleRaw)) titleEl.innerHTML = sanitizeHtml(titleRaw);
    else titleEl.textContent = titleRaw;

    if (!rawInfo) {
        btn.classList.add('disabled');
        btn.setAttribute('aria-disabled', 'true');
        btn.disabled = true;
        if (!isPortrait) {
            try { sessionStorage.setItem('infoOpen', '0'); } catch(e) {}
        }
        return;
    }

    function escapeHtml(s) {
        return String(s)
            .replace(/&/g,'&amp;')
            .replace(/</g,'&lt;')
            .replace(/>/g,'&gt;');
    }

    // Minimal markdown -> HTML (HTML is handled separately)
    function mdToHtml(markdown) {
        let text = String(markdown).replace(/\r\n?/g, '\n');

        const parts = text.split(/```/g);
        for (let i = 0; i < parts.length; i++) {
            if (i % 2 === 1) {
                parts[i] = '<pre><code>' + escapeHtml(parts[i].trim()) + '</code></pre>';
            } else {
                parts[i] = escapeHtml(parts[i]);
            }
        }
        text = parts.join('');

        text = text.replace(/`([^`]+?)`/g, '<code>$1</code>');
        text = text.replace(/\[([^\]]+?)\]\(([^\)]+?)\)/g, '<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>');
        text = text.replace(/\*\*([^*]+?)\*\*/g, '<strong>$1</strong>');
        text = text.replace(/(^|[^*])\*([^*]+?)\*(?!\*)/g, '$1<em>$2</em>');

        text = text.replace(/^###\s+(.*)$/gm, '<h3>$1</h3>');
        text = text.replace(/^##\s+(.*)$/gm, '<h2>$1</h2>');
        text = text.replace(/^#\s+(.*)$/gm, '<h1>$1</h1>');

        const lines = text.split(/\n/);
        let out = [];
        let inUl = false;

        for (const line of lines) {
            const m = line.match(/^\s*[-*]\s+(.*)$/);
            if (m) {
                if (!inUl) {
                    inUl = true;
                    out.push('<ul>');
                }
                out.push('<li>' + m[1] + '</li>');
            } else {
                if (inUl) {
                    out.push('</ul>');
                    inUl = false;
                }
                out.push(line);
            }
        }
        if (inUl) out.push('</ul>');
        text = out.join('\n');

        const blocks = text.split(/\n\s*\n/g).map(b => b.trim()).filter(Boolean);
        return blocks.map(b => {
            if (/^<(h1|h2|h3|ul|pre)/.test(b)) return b;
            return '<p>' + b.replace(/\n/g, '<br>') + '</p>';
        }).join('\n');
    }

    // Render body: HTML if looks like HTML, else Markdown
    if (looksLikeHtml(rawInfo)) bodyEl.innerHTML = sanitizeHtml(rawInfo);
    else bodyEl.innerHTML = mdToHtml(rawInfo);

    // MathJax typeset (retry until loaded)
    let typesetTries = 0;
    function requestTypeset() {
        if (window.MathJax && MathJax.typesetPromise) {
            try {
                if (MathJax.typesetClear) MathJax.typesetClear([drawer]);
            } catch(e) {}
            MathJax.typesetPromise([drawer]).catch(function(){});
            return;
        }
        if (typesetTries++ < 25) setTimeout(requestTypeset, 200);
    }
    requestTypeset();

    function setDesktopInfoState(isOpen) {
        if (isPortrait) return;
        try {
            sessionStorage.setItem('infoOpen', isOpen ? '1' : '0');
        } catch (e) {}
    }

    function openDrawer() {
        drawer.classList.add('open');
        backdrop.classList.add('open');
        drawer.setAttribute('aria-hidden', 'false');
        backdrop.setAttribute('aria-hidden', 'false');
        document.documentElement.classList.add('no-scroll');
        document.body.classList.add('no-scroll');
        setDesktopInfoState(true);
        requestTypeset();
        drawer.focus();
    }

    function closeDrawer() {
        drawer.classList.remove('open');
        backdrop.classList.remove('open');
        drawer.setAttribute('aria-hidden', 'true');
        backdrop.setAttribute('aria-hidden', 'true');
        document.documentElement.classList.remove('no-scroll');
        document.body.classList.remove('no-scroll');
        setDesktopInfoState(false);
        btn.focus();
    }

    // Info button toggles open/close
    btn.addEventListener('click', function() {
        if (drawer.classList.contains('open')) closeDrawer();
        else openDrawer();
    });

    closeBtn.addEventListener('click', closeDrawer);
    backdrop.addEventListener('click', closeDrawer);

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && drawer.classList.contains('open')) {
            closeDrawer();
        }
    });

    // Option A: restore open state ONLY on desktop
    if (!isPortrait) {
        let shouldOpen = false;
        try {
            shouldOpen = (sessionStorage.getItem('infoOpen') === '1');
        } catch(e) {
            shouldOpen = false;
        }
        if (shouldOpen) openDrawer();
    }
})();
</script>

<div> <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
<script charset="utf-8" src="plotly.min.js"></script> <div class="plotly-graph-div" id="e98ef967-fa17-4036-9c82-b4262a306b12" style="height:100%; width:100%;"></div> <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e98ef967-fa17-4036-9c82-b4262a306b12")) {                    Plotly.newPlot(                        "e98ef967-fa17-4036-9c82-b4262a306b12",                        [{"customdata":[["\u003cspan\u003eسامانه‌های پیوسته و آماری\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 0.43\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.59\u003cbr\u003eتعداد مقالات: 85.0\u003c\u002fspan\u003e"],["\u003cspan\u003eعلم مواد و انرژی\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 0.82\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.8\u003cbr\u003eتعداد مقالات: 1284.0\u003c\u002fspan\u003e"],["\u003cspan\u003eفیزیک ذرات، میدان‌ها و کیهان‌شناسی\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 1.7\u003cbr\u003eتأثیر استنادی نرمال‌شده: 1.14\u003cbr\u003eتعداد مقالات: 1234.0\u003c\u002fspan\u003e"],["\u003cspan\u003eفیزیک نور و  برهم‌کنش نور و ماده\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 1.28\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.68\u003cbr\u003eتعداد مقالات: 1295.0\u003c\u002fspan\u003e"],["\u003cspan\u003eنجوم و اخترفیزیک\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 0.31\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.41\u003cbr\u003eتعداد مقالات: 161.0\u003c\u002fspan\u003e"],["\u003cspan\u003e‬‬علوم داده، اطلاعات کوانتمی و یادگیری ماشین‬\u003cbr\u003eدوره زمانی: 2015-2016\u003cbr\u003eشاخص تمرکز: 1.52\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.46\u003cbr\u003eتعداد مقالات: 201.0\u003c\u002fspan\u003e"]],"hovertemplate":"%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"2015-2016","marker":{"color":"steelblue","size":{"dtype":"f8","bdata":"eAcIj6bMCEBYUoWC32lHQKnoBoF3gEZA4Ep98zidR0C4rJmri3wXQLfq9YFYUh1A"},"sizemode":"area","sizeref":0.02,"symbol":"circle"},"mode":"markers+text","name":"2015-2016","orientation":"v","showlegend":true,"text":["سامانه‌های پیوسته\u003cbr\u003eو آماری","علم مواد و\u003cbr\u003eانرژی","فیزیک ذرات، میدان‌ها\u003cbr\u003eو کیهان‌شناسی","فیزیک نور و \u003cbr\u003eبرهم‌کنش نور و ماده","نجوم و\u003cbr\u003eاخترفیزیک","‬‬علوم داده، اطلاعات کوانتمی\u003cbr\u003eو یادگیری ماشین‬"],"x":{"dtype":"f8","bdata":"HWWN5bs02z8fpb6u2y3qPwmNtfcjI\u002fs\u002fSoxmmaB\u002f9D\u002fFH64eS+XTP\u002fRwunotSfg\u002f"},"xaxis":"x","y":{"dtype":"f8","bdata":"td4Yq3b24j9kDMwpzK\u002fpP20tpsezLfI\u002fkojNO9LH5T9k\u002fOn87CDaPxP\u002f9RRiZd0\u002f"},"yaxis":"y","type":"scatter","opacity":0.5},{"customdata":[["\u003cspan\u003eسامانه‌های پیوسته و آماری\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 0.42\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.79\u003cbr\u003eتعداد مقالات: 81.0\u003c\u002fspan\u003e"],["\u003cspan\u003eعلم مواد و انرژی\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 0.75\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.9\u003cbr\u003eتعداد مقالات: 991.0\u003c\u002fspan\u003e"],["\u003cspan\u003eفیزیک ذرات، میدان‌ها و کیهان‌شناسی\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 2.0\u003cbr\u003eتأثیر استنادی نرمال‌شده: 1.14\u003cbr\u003eتعداد مقالات: 1371.0\u003c\u002fspan\u003e"],["\u003cspan\u003eفیزیک نور و  برهم‌کنش نور و ماده\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 1.14\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.77\u003cbr\u003eتعداد مقالات: 1049.0\u003c\u002fspan\u003e"],["\u003cspan\u003eنجوم و اخترفیزیک\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 0.4\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.58\u003cbr\u003eتعداد مقالات: 200.0\u003c\u002fspan\u003e"],["\u003cspan\u003e‬‬علوم داده، اطلاعات کوانتمی و یادگیری ماشین‬\u003cbr\u003eدوره زمانی: 2023-2024\u003cbr\u003eشاخص تمرکز: 1.27\u003cbr\u003eتأثیر استنادی نرمال‌شده: 0.77\u003cbr\u003eتعداد مقالات: 192.0\u003c\u002fspan\u003e"]],"hovertemplate":"%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"2023-2024","marker":{"color":"gold","size":{"dtype":"f8","bdata":"eWHC\u002feOhB0BidnLBHBJCQAAAAAAAAElA0pQZFd0gQ0D3Nc0vAC0dQPePh549AhxA"},"sizemode":"area","sizeref":0.02,"symbol":"circle"},"mode":"markers+text","name":"2023-2024","orientation":"v","showlegend":true,"text":["سامانه‌های پیوسته\u003cbr\u003eو آماری","علم مواد و\u003cbr\u003eانرژی","فیزیک ذرات، میدان‌ها\u003cbr\u003eو کیهان‌شناسی","فیزیک نور و \u003cbr\u003eبرهم‌کنش نور و ماده","نجوم و\u003cbr\u003eاخترفیزیک","‬‬علوم داده، اطلاعات کوانتمی\u003cbr\u003eو یادگیری ماشین‬"],"x":{"dtype":"f8","bdata":"YsmnbUgu2z8\u002fXYVJx+jnPwojjMaWCABA+Oy3fWsw8j9AlcCIfFzZPwSZ11EqP\u002fQ\u002f"},"xaxis":"x","y":{"dtype":"f8","bdata":"EZv3e31R6T\u002fFC05rkdjsP38F110qMPI\u002fBwOkeAOW6D+aQuc1doniP\u002feX3ZOHheg\u002f"},"yaxis":"y","type":"scatter","opacity":1},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.4250936261865535,0.4248967558181569,0.42469988544976023],"y":[0.5925858823529412,0.6918917066085694,0.7911975308641975],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.4250936261865535,0.4248967558181569,0.42469988544976023],"y":[0.5925858823529412,0.6918917066085694,0.7911975308641975],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.8180979168875274,0.7826316284627292,0.7471653400379309],"y":[0.8027096573208721,0.8520730930398508,0.9014365287588296],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.8180979168875274,0.7826316284627292,0.7471653400379309],"y":[0.8027096573208721,0.8520730930398508,0.9014365287588296],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.6960792232646915,1.8501365274265456,2.0041938315884],"y":[1.1361577795786062,1.1364584667404336,1.136759153902261],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.6960792232646915,1.8501365274265456,2.0041938315884],"y":[1.1361577795786062,1.1364584667404336,1.136759153902261],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.2811590187273105,1.208990140108462,1.1368212614896134],"y":[0.6806422393822393,0.7244772207397374,0.7683122020972356],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.2811590187273105,1.208990140108462,1.1368212614896134],"y":[0.6806422393822393,0.7244772207397374,0.7683122020972356],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.31086996074781964,0.3535699431935556,0.39626992563929164],"y":[0.4082596273291925,0.49376981366459627,0.57928],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[0.31086996074781964,0.3535699431935556,0.39626992563929164],"y":[0.4082596273291925,0.49376981366459627,0.57928],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2015-2016","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.5178656381677316,1.3916434283749473,1.265421218582163],"y":[0.4593129353233831,0.6128064676616916,0.7663000000000001],"type":"scatter"},{"hoverinfo":"skip","legendgroup":"2023-2024","line":{"color":"gray","width":1.2},"marker":{"angleref":"previous","size":[0,13,0],"symbol":["circle","arrow-wide","circle"]},"mode":"lines+markers","opacity":0.8,"showlegend":false,"visible":true,"x":[1.5178656381677316,1.3916434283749473,1.265421218582163],"y":[0.4593129353233831,0.6128064676616916,0.7663000000000001],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#1f77b4","#ff7f0e","#2ca02c","#bcbd22","#9467bd","#8c564b","#e377c2","#7f7f7f","#d62728","#17becf","#aec7e8","#ffbb78"],"font":{"color":"#2a3f5f","family":"Vazirmatn FD"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"right","font":{"family":"Vazirmatn FD"}},"hovermode":"closest","legend":{"font":{"family":"Vazirmatn FD"},"title":{"font":{"family":"Vazirmatn FD"}}},"mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"font":{"family":"Vazirmatn FD Black"},"x":0.5,"xanchor":"center"},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","tickfont":{"family":"Vazirmatn FD","size":13},"ticks":"","title":{"font":{"family":"Vazirmatn FD"},"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","tickfont":{"family":"Vazirmatn FD","size":13},"ticks":"","title":{"font":{"family":"Vazirmatn FD"},"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"شاخص تمرکز"},"showgrid":true,"zeroline":false},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"تأثیر استنادی نرمال‌شده"},"showgrid":true,"zeroline":false},"legend":{"title":{"text":"دوره زمانی"},"tracegroupgap":0,"itemsizing":"constant"},"margin":{"t":60},"shapes":[{"line":{"color":"gray","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1.0,"y1":1.0,"yref":"y"},{"line":{"color":"gray","dash":"dash"},"type":"line","x0":1.0,"x1":1.0,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"title":{"text":"تحلیل جایگاهی زیرحوزه‌های فیزیک در ایران","x":0.5,"y":0.95,"xanchor":"center","yanchor":"top"}},                        {"displaylogo": false, "modeBarButtonsToRemove": ["select", "lasso2d", "toggleSpikelines", "hoverCompareCartesian", "hoverClosestCartesian"], "toImageButtonOptions": {"filename": "6_1_subfields_PA_vs_physics_IRAN", "scale": 4, "format": "png"}, "responsive": true}                    )                };            </script> </div>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const plot = document.querySelectorAll('div.js-plotly-plot')[0];

  if (!plot) return;

  // Listen to legend clicks (Plotly 'plotly_legendclick' fires before visibility changes)
  plot.on('plotly_legendclick', function(eventData) {
    const clickedName = eventData.fullData.name; // e.g., "2015-2016" or "2023-2024"

    // Get all traces in the plot
    const traces = plot.data;

    // Determine which traces are arrows (no legend, hoverinfo=skip)
    const arrowTraceIndexes = traces
      .map((t, i) => (t.hoverinfo === "skip" ? i : null))
      .filter(i => i !== null);

    // Determine visibility of the clicked legend group (after toggle)
    // We'll manually invert current visibility for that group
    const isClickedVisible = traces
      .filter(t => t.name === clickedName)
      .some(t => t.visible === true || t.visible === undefined);

    const newVis = isClickedVisible ? "legendonly" : true;

    // Now set all arrow traces visibility based on the *inverse* logic:
    // If any period is hidden → hide arrows.
    const periodNames = ["2015-2016", "2023-2024"];
    const otherVisible = periodNames.some(p =>
      traces.some(t =>
        t.name === p && (t.visible === true || t.visible === undefined)
      )
    );

    // If the clicked period will become hidden → hide arrows
    const finalArrowVis = otherVisible && newVis !== "legendonly" ? true : "legendonly";

    const update = {visible: []};
    traces.forEach((t, i) => {
      if (arrowTraceIndexes.includes(i)) {
        update.visible.push(finalArrowVis);
      } else {
        update.visible.push(t.visible);
      }
    });

    Plotly.update(plot, update);
  });
});
</script>
</body>
</html>